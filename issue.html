<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FELLOWSHIP — ISSUE</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Grid overlay -->
    <div class="grid-overlay"></div>
    
    <!-- Navigation -->
    <div class="nav-corner top-left"><a href="index.html" style="color: inherit; text-decoration: none;">← BACK</a></div>
    <div class="nav-corner top-right">FELLOWSHIP</div>
    <div class="nav-corner bottom-left">EST. 2026</div>
    <div class="nav-corner bottom-right">READ</div>

    <!-- Issue content will be injected here -->
    <main class="issue-container" id="issue-container">
        <div class="issue-header" id="issue-header">
            <h1 id="issue-title"></h1>
            <div class="issue-meta">
                <span id="issue-number"></span>
                <span id="issue-date"></span>
                <span id="issue-author"></span>
            </div>
        </div>
        <div class="issue-content" id="issue-content">
            <!-- Article HTML loads here -->
        </div>
    </main>

    <script>
        // Get issue ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const issueId = urlParams.get('id');

        // Fetch issues data
        fetch('issues.json')
            .then(response => response.json())
            .then(data => {
                const issue = data.issues.find(i => i.id === issueId);
                
                if (!issue) {
                    window.location.href = 'index.html';
                    return;
                }

                // Set header info
                document.getElementById('issue-title').textContent = issue.title;
                document.getElementById('issue-number').textContent = `ISSUE ${issue.number}`;
                document.getElementById('issue-date').textContent = issue.date;
                document.getElementById('issue-author').textContent = issue.author || 'THE FELLOWSHIP';

                // Apply issue-specific colors to body if needed
                document.body.style.backgroundColor = issue.color;
                
                // Load the issue content HTML
                fetch(`issues/${issue.id}.html`)
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('issue-content').innerHTML = html;
                    })
                    .catch(() => {
                        document.getElementById('issue-content').innerHTML = '<p>Issue content loading failed. Check back soon.</p>';
                    });
            });
    </script>
</body>
</html>
